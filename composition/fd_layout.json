{
    "name": "fd_layout",
    "module": "view",
    "roles": {
        "*": true
    },
    "markup": ["/fd_layout.html"],
    "styles": [
        "/fd_layout.css"
    ],
    "config": {
        "title": "Flow detail",
        "templates": {
            "layout": {
                "to": ".section",
                "html": "/fd_layout.html",
                "events": {
                    "showDataStream": [
                        {
                            "on": "click",
                            "sel": ".flow-btn-show-ds"
                        }
                    ],
                    "showEndEmit": [
                        {
                            "on": "click",
                            "sel": ".flow-btn-show-ee"
                        }
                    ],
                    "showErrorEmit": [
                        {
                            "on": "click",
                            "sel": ".flow-btn-show-re"
                        }
                    ],
                    "showInstConfig": [
                        {
                            "on": "click",
                            "sel": ".flow-btn-show-ic"
                        }
                    ],
                    "addFlowHandler": [
                        {
                            "on": "click",
                            "sel": ".flow-btn-addFH"
                        }
                    ],
                    "save": [
                        {
                            "on": "click",
                            "sel": ".flow-btn-save"
                        }
                    ],
                    "close": [
                        {
                            "on": "click",
                            "sel": ".flow-btn-close"
                        }
                    ]
                }
            }
        },
        "states": {
            "show_add_fh_btn": [
                {
                    "sel": ".flow-btn-addFH",
                    "template": "layout",
                    "rm": ["hide"]
                }
            ],
            "hide_ds_detail": [
                {
                    "sel": ".flow-ds-detail",
                    "template": "layout",
                    "add": ["hide"]
                }
            ],
            "hide_add_fh_btn": [
                {
                    "sel": ".flow-btn-addFH",
                    "template": "layout",
                    "add": ["hide"]
                }
            ]
        }
    },
    "flow": {
        "showDataStream": {
            "d": [
                ":fd_ds_layout/render",
                [":state", {"name": "show_add_fh_btn"}],
                [":state", {"name": "hide_ds_detail"}],
                [">>getInstanceListenerDataFlow", {"to": "flow-api", "net": "ws"}],
                [":flow-tools/translate", {
                    "translate": {
                        "type": {
                            ":": {
                                "icon": "adjust",
                                "icon_bg": "amber accent-2",
                                "item_bg": "amber lighten-4"
                            },
                            ".": {
                                "icon": "filter_tilt_shift",
                                "icon_bg": "amber accent-2",
                                "item_bg": "amber lighten-4"
                            },
                            ">": {
                                "icon_bg": "blue accent-2",
                                "item_bg": "blue lighten-4"
                            },
                            "*": {
                                "icon_bg": "grey accent-2",
                                "item_bg": "grey lighten-4"
                            }
                        },
                        "joint": {
                            ">": {
                                "icon": "chevron_right"
                            },
                            "|": {
                                "icon": "keyboard_capslock",
                                "rotate": "flow-icon-rotate"
                            }
                        }
                    }
                }],    
                [":fd_ds_list/render", {"clearList": false}]
            ],
            "r": ["client", {"to": "error"}]
        },
        "showEndEmit": {
            "d": [
                [":state", {"name": "hide_add_fh_btn"}],
                ":fd_ee_layout/render"
            ]
        },
        "showErrorEmit": {
            "d": [
                [":state", {"name": "hide_add_fh_btn"}],
                ":fd_re_layout/render"
            ]
        },
        "showInstConfig": {
            "d": [
                [":state", {"name": "hide_add_fh_btn"}],
                ":fd_ic_layout/render"
            ]
        }
    }
}
